(window.webpackJsonp=window.webpackJsonp||[]).push([[501],{1800:function(t,e,o){},2545:function(t,e,o){"use strict";o(1800)},3002:function(t,e,o){"use strict";o.r(e);var i=o(11),n=o(86),a=o(2),r=o(3),c=o(12),d=o(8),l=o(4),s=o(9),u=(o(17),o(40),o(75),o(109),o(33),o(50),o(37),o(15),o(49),o(83),o(28),o(84),o(30),o(368),o(19),o(22),o(34)),p=o(229),g=o(13),h=o(10),y=o(85),f=["width","height","left","top","position"];function ownKeys(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(o),!0).forEach((function(e){Object(i.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function _callSuper(t,e,o){return e=Object(d.a)(e),Object(c.a)(t,_isNativeReflectConstruct()?Reflect.construct(e,o||[],Object(d.a)(t).constructor):e.apply(t,o))}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}var v,__decorate=function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"===("undefined"==typeof Reflect?"undefined":Object(s.a)(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r},__metadata=function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":Object(s.a)(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},b=function(t){function NextViewAppBlockComponent(){var t;return Object(a.a)(this,NextViewAppBlockComponent),(t=_callSuper(this,NextViewAppBlockComponent,arguments)).appEditStore=Object(y.default)(t.$pinia),t}return Object(l.a)(NextViewAppBlockComponent,t),Object(r.a)(NextViewAppBlockComponent,[{key:"app",get:function get(){return this.appEditStore.app}},{key:"page",get:function get(){var t,e;return null===(e=null===(t=this.appEditStore.page)||void 0===t?void 0:t.datas)||void 0===e?void 0:e.page}},{key:"isShowPC",get:function get(){var t,e;return null===(e=null===(t=this.app)||void 0===t?void 0:t.config)||void 0===e?void 0:e.isShowPC}},{key:"notFixedElements",get:function get(){return this.data.childs.filter((function(t){return!t.positionFixed.isActivated}))}},{key:"fixedElements",get:function get(){var t=[];if(this.data){!function rec(e){if(null!=e)for(var o in e.childs)e.childs[o].positionFixed.isActivated?t.push(e.childs[o]):rec(e.childs[o])}(this.data)}return t}},{key:"overflowY",get:function get(){var t,e;return null!==(e=null===(t=this.data.sizing)||void 0===t?void 0:t.overflowY)&&void 0!==e?e:"hide"}},{key:"maxWidth",get:function get(){var t,e,o,i;return null===(i=null===(o=null===(e=null===(t=this.page)||void 0===t?void 0:t.styles)||void 0===e?void 0:e.width)||void 0===o?void 0:o.replace)||void 0===i?void 0:i.call(o,"px","")}},{key:"watchMaxHeight",value:function watchMaxHeight(t){this.appEditStore.setMetaData({target:this.data.metadata,key:"dynamicH",value:t})}},{key:"maxHeight",get:function get(){var t,e,o=this;if(["hide","scroll"].includes(this.overflowY)){var i=this.rowHeight,n=null!==(t=this.data.grid.h)&&void 0!==t?t:1;return Object(g.H)(i*n,2)}var a=this.data.childs.filter((function(t){return!o.fixedElements.includes(t)})),r=Object(g.H)(this.data.h-a.reduce((function(t,e){var o,i,n;return Math.max(t,null!==(n=(null!==(o=e.y)&&void 0!==o?o:0)+(null!==(i=e.type===h.a.AppList?p.default.getTotalHeight(e,e.itemsSettings.maxDisplayedItems,!0):void 0)&&void 0!==i?i:e.h))&&void 0!==n?n:0)}),0),2),c=a.reduce((function(t,e){var o,i,n;return Math.max(t,null!==(n=(null!==(o=e.y)&&void 0!==o?o:0)+((null===(i=e.metadata)||void 0===i?void 0:i.dynamicH)||e.h))&&void 0!==n?n:0)}),0),d=Object(g.H)(Math.max(c,null!==(e=this.data.h)&&void 0!==e?e:0),2);return d>this.data.h?d+r:d}},{key:"elementStyle",get:function get(){var t,e=this.data,o=this.overflowY,i=this.maxWidth,a=this.maxHeight,r=null!==(t=null==e?void 0:e.styles)&&void 0!==t?t:{};r.width,r.height,r.left,r.top,r.position;return _objectSpread(_objectSpread({},Object(n.a)(r,f)),{},{width:"".concat(i,"px"),height:"".concat(a,"px"),overflowX:"hidden",overflowY:["scroll"].includes(o)?"scroll":"hidden"})}},{key:"totalStyle",get:function get(){var t,e=_objectSpread(_objectSpread(_objectSpread({},null===this||void 0===this?void 0:this.positionStyle),this.elementStyle),{},{"background-color":null,"background-image":null,"background-size":null,"background-position":null,"background-repeat":null,"background-opacity":null});return(null===(t=this.data.metadata)||void 0===t?void 0:t.animationStyles)&&(e=_objectSpread(_objectSpread({},this.data.metadata.animationStyles),e)),this.data.hide&&(e.display="none !important"),e}},{key:"backgroundImageStyle",get:function get(){this.data;var t=this.maxHeight;return{width:"100%",height:"".concat(t,"px"),position:"absolute","background-image":this.data.styles["background-image"],"background-size":this.data.styles["background-size"],opacity:this.data.styles["background-opacity"],"background-position":"center 0","background-repeat":"no-repeat"}}},{key:"backgroundVideoStyle",get:function get(){this.data;var t=this.maxHeight;return{width:"100%",height:"".concat(t,"px"),position:"absolute",opacity:this.data.styles["background-opacity"],"object-fit":"cover","background-position":"center 0","background-repeat":"no-repeat"}}},{key:"backgroundColorStyle",get:function get(){return{"background-color":this.data.styles["background-color"]}}}])}(Object(u.mixins)(u.Vue));__decorate([Object(u.Prop)(),__metadata("design:type","function"==typeof(v="undefined"!=typeof AppBlock&&AppBlock)?v:Object)],b.prototype,"data",void 0),__decorate([Object(u.Prop)({required:!1,default:42}),__metadata("design:type",Number)],b.prototype,"rowHeight",void 0),__decorate([Object(u.Watch)("maxHeight",{immediate:!0}),__metadata("design:type",Function),__metadata("design:paramtypes",[Number]),__metadata("design:returntype",void 0)],b.prototype,"watchMaxHeight",null);var k=b=__decorate([Object(u.Component)({components:{LazyEditPageRenderer:function LazyEditPageRenderer(){return o.e(49).then(o.bind(null,3122))}}})],b),m=(o(2545),o(64)),j=Object(m.a)(k,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{style:t.backgroundColorStyle,attrs:{"data-element-id":t.data.id}},[t.isShowPC?[t.data.styles["background-image"]?o("div",{staticClass:"background",style:t.backgroundImageStyle}):t._e(),t._v(" "),t.data.styles["background-video"]?o("video",{staticClass:"background",style:t.backgroundVideoStyle,attrs:{autoplay:"",muted:"",loop:"",playsinline:"",preload:""},domProps:{muted:!0}},[o("source",{attrs:{src:t.data.styles["background-video"]}})]):t._e()]:t._e(),t._v(" "),o("div",{staticClass:"AppBlock",style:t.totalStyle},[t.isShowPC?t._e():[t.data.styles["background-image"]?o("div",{staticClass:"background",style:t.backgroundImageStyle}):t._e(),t._v(" "),t.data.styles["background-video"]?o("video",{staticClass:"background",style:t.backgroundVideoStyle,attrs:{autoplay:"",muted:"",loop:"",playsinline:"",preload:""},domProps:{muted:!0}},[o("source",{attrs:{src:t.data.styles["background-video"]}})]):t._e()],t._v(" "),t._l(t.notFixedElements,(function(t){return[o("LazyEditPageRenderer",{key:t.id,attrs:{element:t,editable:!1}})]}))],2)],2)}),[],!1,null,"445a1358",null);e.default=j.exports}}]);