(window.webpackJsonp=window.webpackJsonp||[]).push([[522],{3071:function(e,t,n){"use strict";n.r(t);var o=n(2),i=n(3),a=n(12),r=n(8),c=n(4),l=n(9),u=(n(33),n(15),n(28),n(30),n(368),n(22),n(34)),p=n(816),d=n(837);function _callSuper(e,t,n){return t=Object(r.a)(t),Object(a.a)(e,_isNativeReflectConstruct()?Reflect.construct(t,n||[],Object(r.a)(e).constructor):t.apply(e,n))}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!e})()}var f,__decorate=function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":Object(l.a)(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},__metadata=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":Object(l.a)(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(e){function AppShapeComponent(){return Object(o.a)(this,AppShapeComponent),_callSuper(this,AppShapeComponent,arguments)}return Object(c.a)(AppShapeComponent,e),Object(i.a)(AppShapeComponent,[{key:"isClickable",get:function get(){return this.data.metadata.clickHandlers.length>0}},{key:"onClick",value:function onClick(e){this.editable||this.click(this.data)}}])}(Object(u.mixins)(u.Vue,p.a,d.b));__decorate([Object(u.Prop)(),__metadata("design:type","function"==typeof(f="undefined"!=typeof AppShape&&AppShape)?f:Object)],s.prototype,"data",void 0),__decorate([Object(u.Prop)({default:function _default(){return[]}}),__metadata("design:type",Array)],s.prototype,"parents",void 0),__decorate([Object(u.Prop)({required:!0,default:!1}),__metadata("design:type",Boolean)],s.prototype,"editable",void 0);var b=s=__decorate([Object(u.Component)({components:{LazyAppElement:function LazyAppElement(){return n.e(16).then(n.bind(null,2678))}}})],s),v=n(64),y=Object(v.a)(b,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("LazyAppElement",{staticClass:"AppShape",class:{clickable:e.isClickable,"child-active":e.isChildActivated},attrs:{data:e.data,editable:e.editable,parents:e.parents,droppable:!0},on:{click:e.onClick}},[e._t("default")],2)}),[],!1,null,"7bd3abc0",null);t.default=y.exports},837:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return h}));var o=n(2),i=n(3),a=n(12),r=n(8),c=n(4),l=n(9),u=(n(57),n(20),n(33),n(15),n(30),n(368),n(34)),p=n(838),d=n(36),f=n(228),s=n(13),b=n(85);function _callSuper(e,t,n){return t=Object(r.a)(t),Object(a.a)(e,_isNativeReflectConstruct()?Reflect.construct(t,n||[],Object(r.a)(e).constructor):t.apply(e,n))}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!e})()}var v,y,__decorate=function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":Object(l.a)(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},__metadata=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":Object(l.a)(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},O=function(e){function MixinEditorVersion(){var e;return Object(o.a)(this,MixinEditorVersion),(e=_callSuper(this,MixinEditorVersion,arguments)).appEditStore=Object(b.default)(e.$pinia),e.VERSION_V1="v1",e.VERSION_NEXT="next",e.VERSION_POPUP="popup",e}return Object(c.a)(MixinEditorVersion,e),Object(i.a)(MixinEditorVersion,[{key:"fetch",value:function fetch(){this.version=this.appEditStore.appEditorVersion}}])}(u.Vue);O=__decorate([u.Component],O);var m=function getVersionConditionalComponent(e){var t=e.versions,n=e.name;return u.Vue.extend({name:n,mixins:[p.a,O],computed:{componentName:function componentName(){var e=this,n=null==e?void 0:e.version;return n===e.VERSION_NEXT?t.next:n===e.VERSION_POPUP?t.popup:(e.VERSION_V1,t.v1)}}})},j=function(e){function MixinGroupElement(){var e;return Object(o.a)(this,MixinGroupElement),(e=_callSuper(this,MixinGroupElement,arguments)).appEditStore=Object(b.default)(e.$pinia),e.isChildActivated=!1,e}return Object(c.a)(MixinGroupElement,e),Object(i.a)(MixinGroupElement,[{key:"activatedIds",get:function get(){return this.appEditStore.activated.map((function(e){var t;return null===(t=e.element)||void 0===t?void 0:t.id}))}},{key:"watchActivatedIds",value:function watchActivatedIds(e){var t=this,n=e.some((function(e){return t.data.id!==e&&!!Object(s.g)(t.data,e)}));this.isChildActivated=n}}])}(u.Vue);__decorate([Object(u.Prop)({required:!0}),__metadata("design:type","function"==typeof(v=void 0!==d.default&&d.default)?v:Object)],j.prototype,"data",void 0),__decorate([Object(u.Prop)({default:function _default(){return[]}}),__metadata("design:type",Array)],j.prototype,"parents",void 0),__decorate([Object(u.Prop)({type:Boolean,default:!1}),__metadata("design:type",Boolean)],j.prototype,"editable",void 0),__decorate([Object(u.Watch)("activatedIds",{deep:!0,immediate:!0}),__metadata("design:type",Function),__metadata("design:paramtypes",[Array]),__metadata("design:returntype",void 0)],j.prototype,"watchActivatedIds",null),j=__decorate([u.Component],j);var h=function(e){function MixinReloadableElement(){var e;return Object(o.a)(this,MixinReloadableElement),(e=_callSuper(this,MixinReloadableElement,arguments)).appEditStore=Object(b.default)(e.$pinia),e}return Object(c.a)(MixinReloadableElement,e),Object(i.a)(MixinReloadableElement,[{key:"watchReload",value:function watchReload(){var e=this;this.appEditStore.isViewer&&this.$watch((function(){return e.data.metadata.updateComponent}),(function(t,n){if(null!=t){var o=t.key,i=t.value;"reload"===o&&(e.reload(i),e.appEditStore.setMetaData({target:e.data.metadata,key:"updateComponent",value:null,override:!1}))}}))}},{key:"reload",value:function reload(){console.log("reload is called")}}])}(u.Vue);__decorate([Object(u.Prop)({required:!0}),__metadata("design:type","function"==typeof(y=void 0!==d.default&&d.default)?y:Object)],h.prototype,"data",void 0),h=__decorate([u.Component],h);var R=function(e){function MixinProxyableElement(){var e;return Object(o.a)(this,MixinProxyableElement),(e=_callSuper(this,MixinProxyableElement,arguments)).proxy=null,e}return Object(c.a)(MixinProxyableElement,e),Object(i.a)(MixinProxyableElement,[{key:"mounted",value:function mounted(){this.proxy=Object(f.createElementProxy)(this,this.data),console.log("".concat(Object(s.p)(this.data),".proxy"),this.proxy)}}])}(u.Vue);__decorate([Object(u.Prop)({required:!0}),__metadata("design:type",Boolean)],R.prototype,"data",void 0),R=__decorate([u.Component],R)},838:function(e,t,n){"use strict";var o=n(3),i=n(2),a=n(12),r=n(8),c=n(4),l=n(9),u=(n(33),n(15),n(30),n(34));function _callSuper(e,t,n){return t=Object(r.a)(t),Object(a.a)(e,_isNativeReflectConstruct()?Reflect.construct(t,n||[],Object(r.a)(e).constructor):t.apply(e,n))}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!e})()}var __decorate=function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":Object(l.a)(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},p=function(e){function AbstractVersionConditionalComponent(){return Object(i.a)(this,AbstractVersionConditionalComponent),_callSuper(this,AbstractVersionConditionalComponent,arguments)}return Object(c.a)(AbstractVersionConditionalComponent,e),Object(o.a)(AbstractVersionConditionalComponent)}(u.Vue),d=p=__decorate([u.Component],p),f=n(64),s=Object(f.a)(d,(function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.componentName,e._g(e._b({ref:"component",tag:"component",scopedSlots:e._u([e._l(e.$scopedSlots,(function(t,n){return{key:n,fn:function(t){return[e._t(n,null,null,t)]}}}))],null,!0)},"component",Object.assign({},e.$attrs,e.$props),!1),e.$listeners))}),[],!1,null,null,null);t.a=s.exports}}]);